{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Gallery=()=>{const[images,setImages]=useState([]);const[current,setCurrent]=useState(0);useEffect(()=>{fetch(\"http://localhost:5000/api/gallery\").then(res=>res.json()).then(data=>setImages(data)).catch(()=>setImages([{img:\"/img/carton.jpg\"},{img:\"/img/carton2.jpg\"},{img:\"/img/carton3.jpg\"},{img:\"/img/carton4.jpg\"},{img:\"/img/bg_1.jpeg\"},{img:\"/img/carton.jpg\"},{img:\"/img/carton2.jpg\"},{img:\"/img/bg_1.jpeg\"}]));},[]);useEffect(()=>{const visibleCount=4;if(!images.length)return;if(images.length<=visibleCount)return;const timer=setInterval(()=>{setCurrent(c=>{if(c>=images.length-visibleCount)return 0;return c+1;});},2000);return()=>clearInterval(timer);},[images]);if(!images.length)return null;return/*#__PURE__*/_jsx(\"section\",{id:\"gallery\",className:\"py-10 bg-white scroll-mt-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-8 text-blue-600\",children:\"H\\xECnh \\u1EA2nh\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery-carousel-wrapper relative w-full overflow-hidden rounded-lg shadow-lg h-70\",children:/*#__PURE__*/_jsx(\"div\",{className:\"gallery-track flex transition-transform duration-700 ease-in-out\",style:{width:\"\".concat(images.length*12,\"%\"),// tổng track\ntransform:images.length>4?\"translateX(-\".concat(current*25,\"%)\"):\"none\"},children:images.map((img,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"gallery-slide w-1/8 flex-shrink-0 p-2\",children:/*#__PURE__*/_jsx(\"img\",{src:img.img,className:\"rounded-lg shadow-md w-full h-60 object-cover\",alt:\"S\\u1EA3n ph\\u1EA9m \".concat(idx+1)})},idx))})})]})});};export default Gallery;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Gallery","images","setImages","current","setCurrent","fetch","then","res","json","data","catch","img","visibleCount","length","timer","setInterval","c","clearInterval","id","className","children","style","width","concat","transform","map","idx","src","alt"],"sources":["D:/CtyDinhDuy/DinhDuyCTY/FE/src/components/Gallery.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst Gallery = () => {\r\n  const [images, setImages] = useState([]);\r\n  const [current, setCurrent] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/gallery\")\r\n      .then((res) => res.json())\r\n      .then((data) => setImages(data))\r\n      .catch(() =>\r\n        setImages([\r\n          { img: \"/img/carton.jpg\" },\r\n          { img: \"/img/carton2.jpg\" },\r\n          { img: \"/img/carton3.jpg\" },\r\n          { img: \"/img/carton4.jpg\" },\r\n          { img: \"/img/bg_1.jpeg\" },\r\n          { img: \"/img/carton.jpg\" },\r\n          { img: \"/img/carton2.jpg\" },\r\n          { img: \"/img/bg_1.jpeg\" },\r\n        ])\r\n      );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const visibleCount = 4; \r\n    if (!images.length) return;\r\n    if (images.length <= visibleCount) return;\r\n\r\n    const timer = setInterval(() => {\r\n      setCurrent((c) => {\r\n        if (c >= images.length - visibleCount) return 0; \r\n        return c + 1;\r\n      });\r\n    }, 2000);\r\n    return () => clearInterval(timer);\r\n  }, [images]);\r\n\r\n  if (!images.length) return null;\r\n\r\n  return (\r\n    <section id=\"gallery\" className=\"py-10 bg-white scroll-mt-20\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <h2 className=\"text-3xl font-bold text-center mb-8 text-blue-600\">\r\n          Hình Ảnh\r\n        </h2>\r\n        <div className=\"gallery-carousel-wrapper relative w-full overflow-hidden rounded-lg shadow-lg h-70\">\r\n          <div\r\n            className=\"gallery-track flex transition-transform duration-700 ease-in-out\"\r\n            style={{\r\n              width: `${images.length * 12}%`, // tổng track\r\n              transform:\r\n                images.length > 4 ? `translateX(-${current * 25}%)` : \"none\",\r\n            }}\r\n          >\r\n            {images.map((img, idx) => (\r\n              <div\r\n                key={idx}\r\n                className=\"gallery-slide w-1/8 flex-shrink-0 p-2\"\r\n              >\r\n                <img\r\n                  src={img.img}\r\n                  className=\"rounded-lg shadow-md w-full h-60 object-cover\"\r\n                  alt={`Sản phẩm ${idx + 1}`}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}